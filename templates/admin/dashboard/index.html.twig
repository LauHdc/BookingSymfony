{% extends 'admin/base.html.twig' %}

{% block title %}Tableau de bord{% endblock %}

{% block body %}

	<main class="container-fluid mt-5">
		
		<div class="row">
		
			<div class="col">
			
				<div class="card alert alert-success text-center p-3">
					
					<div class="card-body">
					
						<div class="row">
						
							<div class="col-4">
							
								<i class="fas fa-user fa-2x"></i>
							
							</div>
							
							<div class="col-8">
							
								<h5 class="card-title">{{stats.users}} utilisateurs</h5>	
							</div>
						
						</div>
					
					</div>
					
				</div>
			
			</div>
			
			<div class="col">
			
				<div class="card alert alert-success text-center p-3">
					
					<div class="card-body">
					
						<div class="row">
						
							<div class="col-4">
							
								<i class="fas fa-user fa-2x"></i>
							
							</div>
							
							<div class="col-8">
							
								<h5 class="card-title">{{stats.ads}} annonces</h5>	
							
							</div>
						
						</div>
					
					</div>
					
				</div>
			
			</div>
			
			<div class="col">
			
				<div class="card alert alert-success text-center p-3">
					
					<div class="card-body">
					
						<div class="row">
						
							<div class="col-4">
							
								<i class="fas fa-user fa-2x"></i>
							
							</div>
							
							<div class="col-8">
							
								<h5 class="card-title">{{stats.bookings}} r√©servations</h5>	
							
							</div>
						
						</div>
					
					</div>
					
				</div>
			
			</div>
			
			<div class="col">
			
				<div class="card alert alert-success text-center p-3">
					
					<div class="card-body">
					
						<div class="row">
						
							<div class="col-4">
							
								<i class="fas fa-user fa-2x"></i>
							
							</div>
							
							<div class="col-8">
							
								<h5 class="card-title">{{stats.comments}} avis</h5>	
							
							</div>
						
						</div>
					
					</div>
					
				</div>
			
			</div>
			
			<div class="row">
			
				<div class="col">
				
					<div class="alert-heading mt-5">
						
						<h4>
							<i class="fas fa-arrow-up"></i> Annonces les + populaires
						</h4>
					
					</div>
					
					<table class="table table-hover">
					
						<thead>
						
							<th>Annonce</th>
							<th>Loueur</th>
							<th>Moyenne</th>
							
						</thead>
						
						<tbody>
							
						{% for ad in bestAds %}
						
							<tr class="table-success">
								<td>{{ad.title}}</td>
								<td>
									<img src="{{ad.avatar}}" alt="">{{ad.firstname}} {{ad.lastname}}</td>
								<td>
									<span class="badge bg-dark">
										{{ad.note | number_format(1,',','')}}
									</span>
								</td>
							</tr>
							
						{% endfor %}
						
						</tbody>
						
					</table>
				
				</div>
				
				<div class="col">
				
					<div class="alert-heading mt-5">
						
						<h4>
							<i class="fas fa-arrow-down"></i> Les pires annonces
						</h4>
					
					</div>
					
					<table class="table table-hover">
					
						<thead>
						
							<th>Annonce</th>
							<th>Loueur</th>
							<th>Moyenne</th>
							
						</thead>
						
						<tbody>
							
						{% for ad in worstAds %}
						
							<tr class="table-warning">
								<td>{{ad.title}}</td>
								<td>
									<img src="{{ad.avatar}}" alt="">{{ad.firstname}} {{ad.lastname}}</td>
								<td>
									<span class="badge bg-dark">
										{{ad.note | number_format(1,',','')}}
									</span>
								</td>
							</tr>
							
						{% endfor %}
						
						</tbody>
						
					</table>
				
				</div>
			
			</div>
		
		</div>
		
	</main>

{% endblock %}
